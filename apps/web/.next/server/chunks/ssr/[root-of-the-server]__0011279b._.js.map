{"version":3,"sources":["../../../../../../node_modules/uuid/dist-node/native.js","../../../../../../node_modules/uuid/dist-node/rng.js","../../../../../../node_modules/uuid/dist-node/regex.js","../../../../../../node_modules/uuid/dist-node/validate.js","../../../../../../node_modules/uuid/dist-node/stringify.js","../../../../../../node_modules/uuid/dist-node/v4.js","../../../../../../apps/web/src/lib/storage.ts","../../../../../../apps/web/src/lib/prompts.ts","../../../../../../apps/web/src/lib/types.ts"],"sourcesContent":["import { randomUUID } from 'node:crypto';\nexport default { randomUUID };\n","import { randomFillSync } from 'node:crypto';\nconst rnds8Pool = new Uint8Array(256);\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n    if (poolPtr > rnds8Pool.length - 16) {\n        randomFillSync(rnds8Pool);\n        poolPtr = 0;\n    }\n    return rnds8Pool.slice(poolPtr, (poolPtr += 16));\n}\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;\n","import REGEX from './regex.js';\nfunction validate(uuid) {\n    return typeof uuid === 'string' && REGEX.test(uuid);\n}\nexport default validate;\n","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction _v4(options, buf, offset) {\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    return _v4(options, buf, offset);\n}\nexport default v4;\n","// src/lib/storage.ts\r\n// Zarządzanie danymi w localStorage\r\n\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport type { Medicine, MedicineImport, BackupImport } from './types';\r\n\r\nconst STORAGE_KEY = 'appteczka_medicines';\r\n\r\n/**\r\n * Pobiera wszystkie leki z localStorage\r\n */\r\nexport function getMedicines(): Medicine[] {\r\n    if (typeof window === 'undefined') return [];\r\n\r\n    try {\r\n        const stored = localStorage.getItem(STORAGE_KEY);\r\n        if (!stored) return [];\r\n\r\n        const parsed = JSON.parse(stored);\r\n        return Array.isArray(parsed) ? parsed : [];\r\n    } catch {\r\n        console.error('Błąd odczytu danych z localStorage');\r\n        return [];\r\n    }\r\n}\r\n\r\n/**\r\n * Zapisuje listę leków do localStorage\r\n */\r\nexport function saveMedicines(medicines: Medicine[]): void {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    try {\r\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(medicines));\r\n    } catch {\r\n        console.error('Błąd zapisu danych do localStorage');\r\n    }\r\n}\r\n\r\n/**\r\n * Dodaje nowy lek do apteczki\r\n */\r\nexport function addMedicine(medicine: Omit<Medicine, 'id' | 'dataDodania'>): Medicine {\r\n    const newMedicine: Medicine = {\r\n        ...medicine,\r\n        id: uuidv4(),\r\n        dataDodania: new Date().toISOString()\r\n    };\r\n\r\n    const medicines = getMedicines();\r\n    medicines.push(newMedicine);\r\n    saveMedicines(medicines);\r\n\r\n    return newMedicine;\r\n}\r\n\r\n/**\r\n * Sprawdza czy lek o danej nazwie już istnieje\r\n */\r\nexport function findDuplicates(newMedicines: { nazwa: string | null }[]): { nazwa: string; existingId: string }[] {\r\n    const existing = getMedicines();\r\n    const duplicates: { nazwa: string; existingId: string }[] = [];\r\n\r\n    for (const newMed of newMedicines) {\r\n        if (!newMed.nazwa) continue;\r\n\r\n        const found = existing.find(m =>\r\n            m.nazwa?.toLowerCase().trim() === newMed.nazwa?.toLowerCase().trim()\r\n        );\r\n\r\n        if (found) {\r\n            duplicates.push({ nazwa: newMed.nazwa, existingId: found.id });\r\n        }\r\n    }\r\n\r\n    return duplicates;\r\n}\r\n\r\n/**\r\n * Typ akcji dla duplikatów\r\n */\r\nexport type DuplicateAction = 'replace' | 'add' | 'skip';\r\n\r\n/**\r\n * Importuje wiele leków z obsługą duplikatów\r\n */\r\nexport function importMedicinesWithDuplicateHandling(\r\n    importData: MedicineImport,\r\n    duplicateActions: Map<string, DuplicateAction>\r\n): Medicine[] {\r\n    const medicines = getMedicines();\r\n    const newMedicines: Medicine[] = [];\r\n\r\n    for (const lek of importData.leki) {\r\n        if (!lek.nazwa) {\r\n            // Bez nazwy - zawsze dodaj\r\n            const newMedicine: Medicine = {\r\n                id: uuidv4(),\r\n                nazwa: lek.nazwa,\r\n                opis: lek.opis,\r\n                wskazania: lek.wskazania,\r\n                tagi: lek.tagi,\r\n                labels: lek.labels,\r\n                notatka: lek.notatka,\r\n                dataDodania: new Date().toISOString()\r\n            };\r\n            newMedicines.push(newMedicine);\r\n            continue;\r\n        }\r\n\r\n        const action = duplicateActions.get(lek.nazwa) || 'add';\r\n        const existingIndex = medicines.findIndex(m =>\r\n            m.nazwa?.toLowerCase().trim() === lek.nazwa?.toLowerCase().trim()\r\n        );\r\n\r\n        if (existingIndex !== -1 && action === 'replace') {\r\n            // Zastąp istniejący\r\n            medicines[existingIndex] = {\r\n                ...medicines[existingIndex],\r\n                opis: lek.opis,\r\n                wskazania: lek.wskazania,\r\n                tagi: lek.tagi,\r\n                labels: lek.labels,\r\n                notatka: lek.notatka\r\n                // Zachowaj terminWaznosci i dataDodania\r\n            };\r\n        } else if (action === 'skip') {\r\n            // Pomiń\r\n            continue;\r\n        } else {\r\n            // Dodaj nowy (add lub brak duplikatu)\r\n            const newMedicine: Medicine = {\r\n                id: uuidv4(),\r\n                nazwa: lek.nazwa,\r\n                opis: lek.opis,\r\n                wskazania: lek.wskazania,\r\n                tagi: lek.tagi,\r\n                labels: lek.labels,\r\n                notatka: lek.notatka,\r\n                dataDodania: new Date().toISOString()\r\n            };\r\n            newMedicines.push(newMedicine);\r\n        }\r\n    }\r\n\r\n    saveMedicines([...medicines, ...newMedicines]);\r\n    return newMedicines;\r\n}\r\n\r\n/**\r\n * Importuje backup (pełne dane z terminami)\r\n */\r\nexport function importBackup(\r\n    backupData: BackupImport,\r\n    duplicateActions: Map<string, DuplicateAction>\r\n): Medicine[] {\r\n    const medicines = getMedicines();\r\n    const newMedicines: Medicine[] = [];\r\n\r\n    for (const lek of backupData.leki) {\r\n        if (!lek.nazwa) {\r\n            // Bez nazwy - zawsze dodaj z nowym ID\r\n            const newMedicine: Medicine = {\r\n                ...lek,\r\n                id: uuidv4(),\r\n                dataDodania: lek.dataDodania || new Date().toISOString()\r\n            };\r\n            newMedicines.push(newMedicine);\r\n            continue;\r\n        }\r\n\r\n        const action = duplicateActions.get(lek.nazwa) || 'add';\r\n        const existingIndex = medicines.findIndex(m =>\r\n            m.nazwa?.toLowerCase().trim() === lek.nazwa?.toLowerCase().trim()\r\n        );\r\n\r\n        if (existingIndex !== -1 && action === 'replace') {\r\n            // Zastąp istniejący (zachowaj stare ID)\r\n            medicines[existingIndex] = {\r\n                ...lek,\r\n                id: medicines[existingIndex].id\r\n            };\r\n        } else if (action === 'skip') {\r\n            continue;\r\n        } else {\r\n            // Dodaj nowy z nowym ID\r\n            const newMedicine: Medicine = {\r\n                ...lek,\r\n                id: uuidv4(),\r\n                dataDodania: lek.dataDodania || new Date().toISOString()\r\n            };\r\n            newMedicines.push(newMedicine);\r\n        }\r\n    }\r\n\r\n    saveMedicines([...medicines, ...newMedicines]);\r\n    return newMedicines;\r\n}\r\n\r\n/**\r\n * Stara funkcja importu (dla kompatybilności) - DEPRECATED\r\n */\r\nexport function importMedicines(importData: MedicineImport): Medicine[] {\r\n    return importMedicinesWithDuplicateHandling(importData, new Map());\r\n}\r\n\r\n/**\r\n * Usuwa lek z apteczki\r\n */\r\nexport function deleteMedicine(id: string): boolean {\r\n    const medicines = getMedicines();\r\n    const filtered = medicines.filter(m => m.id !== id);\r\n\r\n    if (filtered.length === medicines.length) {\r\n        return false;\r\n    }\r\n\r\n    saveMedicines(filtered);\r\n    return true;\r\n}\r\n\r\n/**\r\n * Aktualizuje lek (np. termin ważności)\r\n */\r\nexport function updateMedicine(id: string, updates: Partial<Omit<Medicine, 'id' | 'dataDodania'>>): Medicine | null {\r\n    const medicines = getMedicines();\r\n    const index = medicines.findIndex(m => m.id === id);\r\n\r\n    if (index === -1) {\r\n        return null;\r\n    }\r\n\r\n    medicines[index] = { ...medicines[index], ...updates };\r\n    saveMedicines(medicines);\r\n\r\n    return medicines[index];\r\n}\r\n\r\n/**\r\n * Czyści całą apteczkę (reset)\r\n */\r\nexport function clearMedicines(): void {\r\n    if (typeof window === 'undefined') return;\r\n    localStorage.removeItem(STORAGE_KEY);\r\n}\r\n\r\n/**\r\n * Eksportuje apteczkę jako JSON string (pełny backup)\r\n */\r\nexport function exportMedicines(): string {\r\n    const medicines = getMedicines();\r\n    return JSON.stringify({ leki: medicines }, null, 2);\r\n}\r\n\r\n/**\r\n * Sprawdza czy dane wyglądają na backup (mają id, dataDodania)\r\n */\r\nexport function isBackupFormat(data: unknown): data is BackupImport {\r\n    if (!data || typeof data !== 'object') return false;\r\n    const obj = data as { leki?: unknown[] };\r\n    if (!Array.isArray(obj.leki) || obj.leki.length === 0) return false;\r\n\r\n    // Jeśli pierwszy element ma 'id' i 'dataDodania', to backup\r\n    const first = obj.leki[0] as { id?: string; dataDodania?: string };\r\n    return typeof first.id === 'string' && typeof first.dataDodania === 'string';\r\n}\r\n","// src/lib/prompts.ts\r\n// Generatory promptów do wklejenia w ChatGPT/Claude/Gemini\r\n\r\nimport type { Medicine } from './types';\r\n\r\n/**\r\n * Generuje prompt do rozpoznawania leków ze zdjęcia\r\n */\r\nexport function generateImportPrompt(): string {\r\n  return `# Prompt – Rozpoznawanie leków ze zdjęcia (Import JSON)\r\n\r\n## Rola\r\nJesteś asystentem farmacji pomagającym użytkownikowi prowadzić prywatną bazę leków (domową apteczkę). Użytkownik nie ma wiedzy farmaceutycznej.\r\n\r\n## Wejście\r\nUżytkownik przesyła zdjęcie opakowania lub opakowań leków.\r\nNa jednym zdjęciu może znajdować się jeden lub kilka różnych leków.\r\n\r\n## Zadanie\r\n\r\n1. Przeanalizuj obraz i rozpoznaj **nazwy leków widoczne na opakowaniach**.\r\n2. Jeśli na zdjęciu jest więcej niż jeden lek, zwróć **osobny obiekt dla każdego**.\r\n3. **Zgadywanie jest zabronione.**\r\n\r\nJeżeli:\r\n- nazwa leku jest nieczytelna,\r\n- opakowanie jest częściowo zasłonięte,\r\n- nie masz 100% pewności,\r\n\r\n**zatrzymaj generowanie danych** i zwróć obiekt decyzyjny:\r\n\r\n\\`\\`\\`json\r\n{\r\n  \"status\": \"niepewne_rozpoznanie\",\r\n  \"opcje\": {\r\n    \"A\": \"Poproś o lepsze zdjęcie\",\r\n    \"B\": \"Poproś użytkownika o podanie nazwy leku\",\r\n    \"C\": \"Zostaw nazwę pustą\"\r\n  }\r\n}\r\n\\`\\`\\`\r\n\r\nNie zgaduj. Nie proponuj nazw.\r\n\r\n## Format wyjścia (OBOWIĄZKOWY)\r\n\r\nZwróć **wyłącznie poprawny JSON**, bez dodatkowego tekstu.\r\n\r\n\\`\\`\\`json\r\n{\r\n  \"leki\": [\r\n    {\r\n      \"nazwa\": \"string | null\",\r\n      \"opis\": \"string\",\r\n      \"wskazania\": [\"string\", \"string\"],\r\n      \"tagi\": [\"tag1\", \"tag2\"]\r\n    }\r\n  ]\r\n}\r\n\\`\\`\\`\r\n\r\n## Zasady treści\r\n\r\n- Język prosty, niemedyczny (np. „lek przeciwbólowy\").\r\n- Nie podawaj dawkowania ani ostrzeżeń.\r\n- Na końcu opisu zawsze dodaj: **„Stosować zgodnie z ulotką.\"**\r\n- Leki złożone traktuj jako jedną pozycję.\r\n\r\n## Dozwolone tagi (kontrolowana lista)\r\n\r\n### Objawy\r\nból, ból głowy, ból gardła, ból mięśni, ból menstruacyjny, ból ucha,\r\nnudności, wymioty, biegunka, zaparcia, wzdęcia, zgaga, kolka,\r\ngorączka, kaszel, katar, duszność,\r\nświąd, wysypka, oparzenie, ukąszenie, rana, sucha skóra,\r\nsuche oczy, alergia, bezsenność, stres, choroba lokomocyjna, afty, ząbkowanie\r\n\r\n### Typ infekcji\r\ninfekcja wirusowa, infekcja bakteryjna, infekcja grzybicza, przeziębienie, grypa\r\n\r\n### Działanie leku\r\nprzeciwbólowy, przeciwgorączkowy, przeciwzapalny, przeciwhistaminowy,\r\nprzeciwkaszlowy, wykrztuśny, przeciwwymiotny, przeciwbiegunkowy,\r\nprzeczyszczający, probiotyk, nawilżający, odkażający, uspokajający,\r\nrozkurczowy, przeciwświądowy\r\n\r\n### Obszar ciała\r\nukład pokarmowy, układ oddechowy, układ krążenia, oczy, uszy, skóra,\r\njama ustna, nos, mięśnie i stawy, układ nerwowy, układ moczowy\r\n\r\n### Rodzaj produktu\r\nlek OTC, lek Rx, suplement, probiotyk, wyrób medyczny, test diagnostyczny, kosmetyk leczniczy\r\n\r\n### Grupa docelowa\r\ndla dorosłych, dla dzieci, dla niemowląt, dla kobiet w ciąży, dla seniorów\r\n\r\n## Ograniczenia\r\n\r\n- Brak porad medycznych.\r\n- Brak sugerowania zamienników.\r\n- Brak ocen skuteczności.\r\n\r\nCelem jest wyłącznie **porządkowanie informacji do prywatnej bazy leków użytkownika**.`;\r\n}\r\n\r\n/**\r\n * Generuje listę nazw leków oddzielonych przecinkami\r\n * Do kopiowania i użycia zewnętrznego\r\n */\r\nexport function generateMedicineList(medicines: Medicine[]): string {\r\n  return medicines\r\n    .map(m => m.nazwa || 'Nieznany lek')\r\n    .join(', ');\r\n}\r\n\r\n/**\r\n * Kopiuje tekst do schowka\r\n */\r\nexport async function copyToClipboard(text: string): Promise<boolean> {\r\n  try {\r\n    await navigator.clipboard.writeText(text);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\n","// src/lib/types.ts\r\n// Główna encja: Lek (Medicine)\r\n\r\n// ==================== ETYKIETY UŻYTKOWNIKA ====================\r\n\r\n/**\r\n * Dostępne kolory etykiet\r\n */\r\nexport const LABEL_COLORS = {\r\n    red: { name: 'Czerwony', hex: '#ef4444' },\r\n    orange: { name: 'Pomarańczowy', hex: '#f97316' },\r\n    yellow: { name: 'Żółty', hex: '#eab308' },\r\n    green: { name: 'Zielony', hex: '#22c55e' },\r\n    blue: { name: 'Niebieski', hex: '#3b82f6' },\r\n    purple: { name: 'Fioletowy', hex: '#a855f7' },\r\n    pink: { name: 'Różowy', hex: '#ec4899' },\r\n    gray: { name: 'Szary', hex: '#6b7280' }\r\n} as const;\r\n\r\nexport type LabelColor = keyof typeof LABEL_COLORS;\r\n\r\n/**\r\n * Limity etykiet\r\n */\r\nexport const MAX_LABELS_PER_MEDICINE = 5;\r\nexport const MAX_LABELS_GLOBAL = 15;\r\n\r\n/**\r\n * Etykieta użytkownika (definiowana dowolnie)\r\n */\r\nexport interface UserLabel {\r\n    id: string;\r\n    name: string;\r\n    color: LabelColor;\r\n}\r\n\r\n// ==================== LEK ====================\r\n\r\n/**\r\n * Reprezentacja leku w apteczce\r\n */\r\nexport interface Medicine {\r\n    id: string;\r\n    nazwa: string | null;\r\n    opis: string;\r\n    wskazania: string[];\r\n    tagi: string[];\r\n    labels?: string[];        // ID etykiet użytkownika\r\n    notatka?: string;         // Notatka użytkownika\r\n    terminWaznosci?: string;  // ISO date string (YYYY-MM-DD)\r\n    leafletUrl?: string;      // Link do ulotki PDF z Rejestru Produktów Leczniczych\r\n    dataDodania: string;      // ISO date string\r\n}\r\n\r\n/**\r\n * Format danych importowanych z AI (bez terminów)\r\n */\r\nexport interface MedicineImport {\r\n    leki: Omit<Medicine, 'id' | 'dataDodania' | 'terminWaznosci'>[];\r\n}\r\n\r\n/**\r\n * Format pełnego backupu (z terminami i wszystkimi danymi)\r\n */\r\nexport interface BackupImport {\r\n    leki: Medicine[];\r\n}\r\n\r\n/**\r\n * Kontrolowane tagi dla filtrowania\r\n */\r\nexport const ALLOWED_TAGS = {\r\n    // === OBJAWY ===\r\n    objawy: [\r\n        // Ból\r\n        'ból', 'ból głowy', 'ból gardła', 'ból mięśni', 'ból menstruacyjny', 'ból ucha',\r\n        // Układ pokarmowy\r\n        'nudności', 'wymioty', 'biegunka', 'zaparcia', 'wzdęcia', 'zgaga', 'kolka',\r\n        // Układ oddechowy\r\n        'gorączka', 'kaszel', 'katar', 'duszność',\r\n        // Skóra\r\n        'świąd', 'wysypka', 'oparzenie', 'ukąszenie', 'rana', 'sucha skóra',\r\n        // Oczy/uszy\r\n        'suche oczy',\r\n        // Inne\r\n        'alergia', 'bezsenność', 'stres', 'choroba lokomocyjna',\r\n        'afty', 'ząbkowanie'\r\n    ],\r\n\r\n    // === INFEKCJE ===\r\n    typInfekcji: [\r\n        'infekcja wirusowa', 'infekcja bakteryjna', 'infekcja grzybicza',\r\n        'przeziębienie', 'grypa'\r\n    ],\r\n\r\n    // === DZIAŁANIE ===\r\n    dzialanie: [\r\n        'przeciwbólowy', 'przeciwgorączkowy', 'przeciwzapalny',\r\n        'przeciwhistaminowy', 'przeciwkaszlowy', 'wykrztuśny',\r\n        'przeciwwymiotny', 'przeciwbiegunkowy', 'przeczyszczający',\r\n        'probiotyk', 'nawilżający', 'odkażający', 'uspokajający',\r\n        'rozkurczowy', 'przeciwświądowy'\r\n    ],\r\n\r\n    // === OBSZAR CIAŁA ===\r\n    obszar: [\r\n        'układ pokarmowy', 'układ oddechowy', 'układ krążenia',\r\n        'oczy', 'uszy', 'skóra', 'jama ustna', 'nos',\r\n        'mięśnie i stawy', 'układ nerwowy', 'układ moczowy'\r\n    ],\r\n\r\n    // === RODZAJ PRODUKTU ===\r\n    rodzaj: [\r\n        'lek OTC', 'lek Rx', 'suplement', 'probiotyk',\r\n        'wyrób medyczny', 'test diagnostyczny', 'kosmetyk leczniczy'\r\n    ],\r\n\r\n    // === GRUPA DOCELOWA ===\r\n    grupa: [\r\n        'dla dorosłych', 'dla dzieci', 'dla niemowląt',\r\n        'dla kobiet w ciąży', 'dla seniorów'\r\n    ]\r\n} as const;\r\n\r\n/**\r\n * Wszystkie dozwolone tagi (flat array)\r\n */\r\nexport const ALL_ALLOWED_TAGS = [\r\n    ...ALLOWED_TAGS.objawy,\r\n    ...ALLOWED_TAGS.typInfekcji,\r\n    ...ALLOWED_TAGS.dzialanie,\r\n    ...ALLOWED_TAGS.obszar,\r\n    ...ALLOWED_TAGS.rodzaj,\r\n    ...ALLOWED_TAGS.grupa\r\n] as const;\r\n\r\nexport type AllowedTag = typeof ALL_ALLOWED_TAGS[number];\r\n\r\n/**\r\n * Kategorie tagów dla UI\r\n */\r\nexport const TAG_CATEGORIES = [\r\n    { key: 'objawy', label: 'Objawy', tags: ALLOWED_TAGS.objawy },\r\n    { key: 'typInfekcji', label: 'Typ infekcji', tags: ALLOWED_TAGS.typInfekcji },\r\n    { key: 'dzialanie', label: 'Działanie leku', tags: ALLOWED_TAGS.dzialanie },\r\n    { key: 'obszar', label: 'Obszar ciała', tags: ALLOWED_TAGS.obszar },\r\n    { key: 'rodzaj', label: 'Rodzaj produktu', tags: ALLOWED_TAGS.rodzaj },\r\n    { key: 'grupa', label: 'Grupa docelowa', tags: ALLOWED_TAGS.grupa }\r\n] as const;\r\n\r\n/**\r\n * Filtry terminu ważności\r\n */\r\nexport type ExpiryFilter = 'all' | 'expired' | 'expiring-soon' | 'valid';\r\n\r\nexport interface FilterState {\r\n    tags: string[];\r\n    labels: string[];         // ID etykiet do filtrowania\r\n    search: string;\r\n    expiry: ExpiryFilter;\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5]}